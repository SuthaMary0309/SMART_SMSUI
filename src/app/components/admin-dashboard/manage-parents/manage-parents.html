<div class="container">
  <h2>Parent Management</h2>

  <form (ngSubmit)="saveParent()">
    <input placeholder="Parent Name" [(ngModel)]="parent.parentName" name="parentName" required>
    <input placeholder="Phone No" [(ngModel)]="parent.phoneNo" name="phoneNo" required>
    <input placeholder="Address" [(ngModel)]="parent.address" name="address" required>
    <input placeholder="Email" [(ngModel)]="parent.email" name="email" required>


    <select [(ngModel)]="parent.studentID" name="studentID" required>
      <option value="" disabled>-- select student --</option>
      <option *ngFor="let s of students" [value]="s.studentID ?? s.studentId">{{ s.studentName }}</option>
    </select>

    <button type="submit">{{ editMode ? 'Update Parent' : 'Add Parent' }}</button>
    <button type="button" (click)="resetForm()">Clear</button>
  </form>

  <table>
    <thead>
      <tr><th>Name</th><th>Phone</th><th>Email</th><th>Address</th><th>Student</th><th>Actions</th></tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of parents">
        <td>{{ p.parentName }}</td>
        <td>{{ p.phoneNo }}</td>
        <td>{{ p.email }}</td>
        <td>{{ p.address }}</td>
        <td>{{ p.studentID }}</td>
        <td>
          <button (click)="editParent(p)">Edit</button>
          <button (click)="deleteParent(p.parentID || p.parentId)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
